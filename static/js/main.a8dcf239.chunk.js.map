{"version":3,"sources":["serviceWorker.js","components/nav/Navbar.jsx","utils/validators/object-helper.js","components/redux/users-reducer.js","components/redux/users-selectors.js","components/common/paginator/paginator.jsx","components/users/user.jsx","components/users/users.jsx","components/users/usersContainer.jsx","components/header/Header.jsx","components/header/headerContainer.jsx","components/redux/app-reducer.js","components/redux/redux-store.js","App.js","index.js","components/redux/auth-reducer.js","components/common/preload/preload.js","components/users/users.module.css","components/common/paginator/paginator.module.css","assets/images/userImg.jpg","api/api.js","components/header/header.module.css","components/redux/profile-reducer.js","components/redux/dialogs-reducer.js","components/nav/navbar.module.css","assets/images/preLoader.svg","hoc/authRedirect.jsx"],"names":["Boolean","window","location","hostname","match","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","updateObjectInArrey","items","itemId","objPropName","newObjProps","map","u","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followAC","userId","type","unfollowAC","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","userReducer","state","action","followed","count","filter","id","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","followingInProgres","unfollow","follow","wrapper","alt","src","photos","small","userPhoto","disabled","some","name","status","Users","props","pageCount","UsersContainer","requestUsers","this","length","React","Component","compose","connect","userAPI","bind","page","totalCount","Header","header","width","loginBlock","isAuth","login","logout","HeaderContainer","auth","initialized","appReducer","reducers","combineReducers","dialogsPage","dialogsReducer","profilePage","profileReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","ProfileContainer","lazy","DialogsContainer","Musik","News","Settings","Login","App","initializeApp","path","render","Suspense","fallback","exact","component","AppContainer","withRouter","promise","getAuthUserDataThunk","Promise","all","then","SamuraiJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","SET_USER_DATA","email","captchaUrl","setAuthUserData","getCaptchaUrlSuccess","payload","authAPI","me","response","password","rememberMe","captcha","getCuptchaUrl","message","messages","stopSubmit","_error","securityAPI","getCaptchaUrl","url","Preloader","preLoader","module","exports","instance","axios","baseURL","withCredentials","headers","get","post","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","posts","likesCounte","addPostActionCreator","newPostText","setStatus","getUserProfileThunk","getStatusThunk","file","getState","reject","newPost","postId","dialogs","sendMessageCreator","newMessageBody","body","mapStateToPropsForRedirect","WithAuthRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.a8dcf239.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport s from \"./navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={s.nav}>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/content\" activeClassName={s.activeLink}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div className={`${s.item} ${s.active}`}>\r\n        <NavLink to=\"/user\" activeClassName={s.activeLink}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/news\" activeClassName={s.activeLink}>\r\n          News in the World\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"/musik\" activeClassName={s.activeLink}>\r\n          Musik\r\n        </NavLink>\r\n      </div>\r\n      <div className={s.item}>\r\n        <NavLink to=\"settings\" activeClassName={s.activeLink}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","export const updateObjectInArrey = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( u => {\r\n    if(u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n  } );\r\n}","import {userAPI} from '../../api/api'\r\nimport { updateObjectInArrey } from '../../utils/validators/object-helper';\r\n\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst SET_CURENT_PAGE = 'SET_CURENT_PAGE';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS;'\r\n\r\nlet initialState = {\r\n  \r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n  \r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrey(state.users, action.userId, 'id',{followed: true})\r\n        // users: state.users.map( u => {\r\n        //   if(u.id === action.userId) {\r\n        //     return {...u, followed: true}\r\n        //   }\r\n        //   return u;\r\n        // } )\r\n      }      \r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArrey(state.users, action.userId, 'id',{followed: false})\r\n\r\n        // users: state.users.map( u => {\r\n        //   if(u.id === action.userId) {\r\n        //     return {...u, followed: false}\r\n        //   }\r\n        //   return u;\r\n        // } )\r\n      }\r\n    case SET_USERS: {\r\n      return {...state, users: action.users};\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return {...state, totalUsersCount: action.count};\r\n    }\r\n    case SET_CURENT_PAGE: {\r\n      return {...state, currentPage: action.currentPage};\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return {...state, isFetching: action.isFetching};\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state, \r\n        followingInProgress: action.isFetching \r\n        ? [...state.followingInProgress, action.userId]\r\n        : state.followingInProgress.filter(id => id != action.userId)};\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followAC = (userId) => ({ type: FOLLOW, userId  });\r\nexport const unfollowAC = userId => ({ type: UNFOLLOW, userId});\r\nexport const setUsers = users => ({ type: SET_USERS, users});\r\nexport const setTotalUsersCount = totalUsersCount => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const setCurrentPage = currentPage => ({type: SET_CURENT_PAGE, currentPage});\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (page, pageSize) => {//thunk\r\n  return async (dispatch) => {\r\n    dispatch(setCurrentPage(page));\r\n    dispatch(toggleIsFetching(true));\r\n    \r\n    let data = await userAPI.getUsers(page, pageSize);\r\n      dispatch(toggleIsFetching(false));\r\n      dispatch(setUsers(data.items));\r\n      dispatch(setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n        if (response.data.resultCode === 0) {\r\n          dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {//thunk\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n                       dispatch, \r\n                       userId, \r\n                       await userAPI.follow.bind(userId), \r\n                       followAC);\r\n  }\r\n}\r\n\r\nexport const unfollow = (userId) => {//thunk\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n                       dispatch,\r\n                       userId, \r\n                       await userAPI.unfollow.bind(userId), \r\n                       unfollowAC);\r\n}\r\n}\r\n\r\nexport default userReducer;\r\n","import {createSelector} from 'reselect';\r\n\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\n\r\nexport const getUsers = createSelector(getUsersSelector, //getIsFetching, //dependences\r\n    (users) => {\r\n    return users.filter(u => true)\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n} \r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport styles from './paginator.module.css';\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/userImg.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n// import { userAPI } from \"../../api/api\";\r\n// import Paginator from \"../common/paginator/paginator\";\r\n\r\nconst User = ({user, followingInProgres, unfollow, follow}) => {\r\n \r\n  return (\r\n    <div>\r\n        <div >\r\n          <div className={styles.wrapper}>\r\n            <div>\r\n              <NavLink to={/content/ + user.id}>\r\n                <img alt='user-face'\r\n                  src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                  className={styles.userPhoto}\r\n                />\r\n              </NavLink>\r\n            </div>\r\n            <div>\r\n              {user.followed ? (\r\n                <button disabled={followingInProgres.some(id => id === user.id)} \r\n                  onClick={() => {\r\n                    unfollow(user.id);}}>\r\n                  unfollowe\r\n                </button>)\r\n                : (\r\n                <button disabled={followingInProgres.some(id => id === user.id)} \r\n                  onClick={() => {\r\n                    follow(user.id);}}>\r\n                  followed\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n            <div>{\"user.location.country\"}</div>\r\n            <div>{\"user.location.city\"}</div>\r\n          </div>\r\n        </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/userImg.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n// import * as axios from \"axios\";\r\nimport { userAPI } from \"../../api/api\";\r\nimport Paginator from \"../common/paginator/paginator\";\r\nimport User from \"./user\";\r\n\r\nconst Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props}) => {\r\n  let pageCount = Math.ceil(totalUsersCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  return (\r\n    <div>\r\n      <Paginator totalItemsCount={totalUsersCount} \r\n                 pageSize={pageSize}\r\n                 currentPage={currentPage} \r\n                 onPageChanged={onPageChanged} />\r\n      {users.map(u => (\r\n        <User key={u.id} \r\n              user={u} \r\n              followingInProgres={props.followingInProgres} \r\n              follow={props.follow}\r\n              unfollow={props.unfollow} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { \r\n  follow, \r\n  unfollow, \r\n  setCurrentPage, \r\n  toggleFollowingProgress,\r\n  requestUsers } from \"../redux/users-reducer\";\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, \r\n         getFollowingInProgress, \r\n         } from './../redux/users-selectors'; \r\nimport { connect } from \"react-redux\";\r\nimport Users from './users'\r\nimport Preloader from \"../common/preload/preload\";\r\nimport {userAPI} from '../../api/api'\r\nimport { WithAuthRedirect } from \"../../hoc/authRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.users.length === 0) {\r\n      let {currentPage, pageSize} = this.props\r\n      this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const pageSize = this.props;\r\n    this.props.requestUsers(pageNumber, pageSize);\r\n }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {this.props.isFetching && <Preloader />}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n             pageSize={this.props.pageSize}\r\n             currentPage={this.props.currentPage}\r\n             onPageChanged={this.onPageChanged} \r\n             users={this.props.users} \r\n             follow={this.props.follow}\r\n             unfollow={this.props.unfollow}\r\n             followingInProgres={this.props.followingInProgres} />\r\n             </>\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgres: getFollowingInProgress(state),\r\n    }\r\n  }\r\n\r\nexport default compose(\r\n    // WithAuthRedirect, \r\n    connect(mapStateToProps,  {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    requestUsers\r\n    }))(UsersContainer);\r\n\r\n \r\n","import React from \"react\";\r\nimport s from '../header/header.module.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ55hUJBQypwhxOO6dsifvOqoAWzJk2KHqO1ECcEnFRXAgkRTXpwA&s\"\r\n        width=\"5%\"\r\n        alt='sea'\r\n      />\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth \r\n        ? <div>{props.login} <button onClick={props.logout}>Logout</button></div> \r\n        : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from '../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    // componentDidMount() {\r\n    //   this.props.getAuthUserDataThunk();\r\n    //   }\r\n  render() {\r\n    return <Header {...this.props}/>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout})(HeaderContainer);\r\n","import { getAuthUserDataThunk } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED_SUCCES = 'SET_INITIALIZED_SUCCES';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED_SUCCES:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setInitializedSucces = () => ({ type: SET_INITIALIZED_SUCCES });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n       let promise = dispatch(getAuthUserDataThunk()); \r\n       Promise.all([promise]).then(() => {\r\n        dispatch(setInitializedSucces());\r\n       });\r\n}\r\n\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from './profile-reducer';\r\nimport userReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare  from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    \r\n    dialogsPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: userReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nexport default store;","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/nav/Navbar\";\nimport { Route, withRouter, HashRouter, Switch, Redirect } from \"react-router-dom\";\nimport UsersContainer from \"./components/users/usersContainer\";\nimport HeaderContainer from \"./components/header/headerContainer\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from './components/redux/app-reducer'\nimport { compose } from \"redux\";\nimport store from './components/redux/redux-store'\nimport Preloader from \"./components/common/preload/preload\";\nconst ProfileContainer = React.lazy(() => import('./components/content/profileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst Musik = React.lazy(() => import('./components/musik/musik'));\nconst News = React.lazy(() => import('./components/news/news'));\nconst Settings = React.lazy(() => import('./components/settings/settings'));\nconst Login = React.lazy(() => import('./components/login/login'));\n\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n    }\n\n  render(){\n    if(!this.props.initialized) {\n    return (\n    <Preloader />\n    );\n  }\n  return (\n    <div className=\"wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n        <Route path=\"/user\" render={() => ( <UsersContainer/> )}/>\n        <React.Suspense fallback={<div>Please wait! Loading...</div>}>\n          <Switch>\n          <Route exact\n            path=\"/\"\n            render={() => <Redirect to={'/content'} />}\n          />\n          <Route\n            path=\"/dialogs\"\n            render={() => <DialogsContainer />}\n          />\n          <Route\n            path=\"/content/:userId?\"\n            render={() => (\n              <ProfileContainer />\n            )}\n          />\n          <Route path=\"/login\" render={() => ( <Login/> )}/>\n          <Route path=\"/news\" component={News} />\n          <Route path=\"/musik\" component={Musik} />\n          <Route path=\"/settings\" component={Settings} />\n          <Route path=\"*\"\n            render={() => (\n              <div>404 NOT FOUND</div>\n            )}\n          />\n          </Switch>\n          </React.Suspense>\n        </div>\n    </div>\n  );\n}\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJSApp = (props) => {\n  return <HashRouter>\n      <Provider store={store}>\n          <AppContainer />\n        </Provider>\n  </HashRouter>\n}\n\nexport default SamuraiJSApp;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport SamuraiJSApp from \"./App\";\n\n  ReactDOM.render(<SamuraiJSApp />,document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { authAPI, securityAPI } from '../../api/api'\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = \"samurai-nerwork/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"samurai-nerwork/auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null // if null, then cuptcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      };\r\n    \r\n  case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: {\r\n    userId,\r\n    email,\r\n    login,\r\n    isAuth\r\n} });\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ \r\n  type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} \r\n  });\r\n\r\nexport const getAuthUserDataThunk = () => async(dispatch) => {\r\n  let response = await authAPI.me();\r\n  // .then(response => {\r\n        let {id, email, login} = response.data.data;\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n        // });\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async(dispatch) => {\r\n  \r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n        //  .then(response => {\r\n        if(response.data.resultCode === 0){\r\n            dispatch(getAuthUserDataThunk('login', {email: 'Email is wrong'}));\r\n        } else {\r\n          if (response.data.resultCode === 10){\r\n            dispatch(getCuptchaUrl())\r\n          }\r\n          let message = response.data.messages.length > 0 ? response.data.messages[0] : 'some error';\r\n          dispatch(stopSubmit('login', {_error: message}));\r\n        }\r\n}\r\n\r\nexport const getCuptchaUrl = () => async(dispatch) => {\r\n  let response = await securityAPI.getCaptchaUrl();\r\n        const captchaUrl = response.data.url\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n        \r\n}\r\n\r\nexport const logout = () => async(dispatch) => {\r\n  let response = await authAPI.logout();\r\n        //  .then(response => {\r\n        if(response.data.resultCode === 0){\r\n          dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n        // });\r\n}\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport preLoader from '../../../assets/images/preLoader.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n          <img src={preLoader}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Kq4X\",\"wrapper\":\"users_wrapper__3uWRu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__3NJ7x\",\"pageNumber\":\"paginator_pageNumber__1kc7c\",\"selectedPage\":\"paginator_selectedPage__1CtkL\"};","module.exports = \"data:image/jpeg;base64,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\"","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': 'ce4283be-0853-4f9a-a13a-373054a954a3'\r\n  }\r\n});\r\n\r\nexport const userAPI = {\r\n  getUsers(currentPage=1, pageSize=50) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    .then(response => response.data)// returned only response.data from response-object\r\n    },\r\n  follow(userId) {\r\n    return  instance.post(`follow/${userId}`, {});\r\n  },\r\n  unfollow(userId) {\r\n   return  instance.delete(`follow/${userId}`);\r\n  },\r\n  getProfile(userId){\r\n    console.warn('absolete method. Please use profileAPI object')\r\n    return  profileAPI.getProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId){\r\n    return  instance.get(`profile/` + userId);\r\n  },\r\n\r\n  getStatus(userId){\r\n    return  instance.get(`profile/status/` + userId);\r\n  },\r\n\r\n  updateStatus(status){// status - new text for status\r\n    return  instance.put(`profile/status/`, {status: status});//methods put and post can pass json-object as parametr--2\r\n  },\r\n\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n\r\n    return instance.put(`profile/photo`, formData, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    });\r\n  },\r\n\r\n  saveProfile(profile){\r\n    return  instance.put(`profile`, profile );//methods put and post can pass json-object as parametr--2\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n  me(){\r\n        return instance.get(`auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe=false, captcha=null){\r\n    return instance.post(`auth/login`, {email, password, rememberMe, captcha});//methods put and post can pass json-object as parametr--2\r\n  },\r\n  logout(){\r\n    return instance.delete(`auth/login`);}\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl(){\r\n        return instance.get(`security/get-captcha-url`);\r\n  },\r\n\r\n\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__1ct-j\",\"loginBlock\":\"header_loginBlock__3J7eF\"};","import { userAPI, profileAPI } from \"../../api/api\"\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\n\r\nconst ADD_NEW_POST = \"ADD-NEW-POST\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCES = 'SAVE_PHOTO_SUCCES';\r\n\r\nlet initialState = {\r\n    posts: [\r\n      { id: 1, message: \"Hello!\", likesCounte: 15 },\r\n      { id: 2, message: \"how are you!\", likesCounte: 20 },\r\n      { id: 3, message: \"Very vell!\", likesCounte: 18 },\r\n      { id: 4, message: \"Wow\", likesCounte: 12 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n  \r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_NEW_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCounte: 0\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: \"\"\r\n      }\r\n      case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.postId)\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SAVE_PHOTO_SUCCES:\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos}\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_NEW_POST, newPostText });\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const savePhotoSucces = (photos) => ({ type: SAVE_PHOTO_SUCCES, photos });\r\n\r\nexport const getUserProfileThunk = (userId) => {//\"thankA\"\r\n  return async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId)\r\n      dispatch(setUserProfile(response.data));\r\n  }\r\n}\r\n\r\nexport const getStatusThunk = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n      dispatch(setStatus(response.data));\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n      if(response.data.resultCode === 0){\r\n      dispatch(setStatus(status));\r\n    }\r\n  }\r\n}\r\n\r\nexport const savePhoto = (file) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n      if(response.data.resultCode === 0){\r\n      dispatch(savePhotoSucces(response.data.data.photos));\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile) => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n      if(response.data.resultCode === 0){\r\n      dispatch(getUserProfileThunk(userId));\r\n    }else{\r\n      {\r\n        dispatch(stopSubmit('edit-profile',  {'_error': response.data.messages[0]} ));\r\n        return Promise.reject(response.data.messages[0]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default profileReducer;\r\n","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  \r\n  dialogs: [\r\n    { id: 1, name: \"Dimych\" },\r\n    { id: 2, name: \"Andrey\" },\r\n    { id: 3, name: \"Sveta\" },\r\n    { id: 4, name: \"Sasha\" },\r\n    { id: 5, name: \"Victor\" },\r\n    { id: 6, name: \"Valera\" }\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi!\" },\r\n    { id: 2, message: \"How are your it-kamasutra?\" },\r\n    { id: 3, message: \"Yo!!\" }\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  \r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n          let body = action.newMessageBody;\r\n          return {\r\n            ...state,\r\n            messages: [...state.messages, {id: 4, message: body}],\r\n          };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__2tCQw\",\"item\":\"navbar_item__14e3L\",\"activeLink\":\"navbar_activeLink__g8HUn\"};","module.exports = __webpack_public_path__ + \"static/media/preLoader.160687e7.svg\";","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}"],"sourceRoot":""}