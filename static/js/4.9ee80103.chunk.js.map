{"version":3,"sources":["components/common/formsControls/formsControls.module.css","components/common/formsControls/formsControls.js","utils/validators/validators.js","components/Dialogs/dialogs.module.css","components/Dialogs/dialog/dialogItem.module.css","components/Dialogs/mesage/message.module.css","components/Dialogs/dialog/dialogItem.jsx","components/Dialogs/mesage/message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restprops","Input","child","createField","placeholder","name","validators","component","validate","text","required","value","maxLengthCreator","maxLength","length","DialogItem","path","id","dialog","to","Message","message","maxLength50","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","Dialogs","dialogsElement","state","dialogs","map","data","key","messagesElements","messages","datas","newMessageBody","isAuth","dialogs_items","messages_items","values","onSendMessageClick","AuthRedirectComponent","WithAuthRedirect","DialogsContainer","connect","dialogsPage","auth","dispatch","sendMessageCreator"],"mappings":"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","file":"static/js/4.9ee80103.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__2nbfC\",\"error\":\"formsControls_error__2j6e4\",\"formSummeryError\":\"formsControls_formSummeryError__29F9n\"};","import React from \"react\";\r\nimport s from './formsControls.module.css';\r\nimport { Field } from \"redux-form\";\r\n\r\n\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children, ...props}) => {\r\n    // debugger;\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, children, ...restprops} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restprops}/></FormControl>\r\n}\r\n        \r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restprops} = props;\r\n    return <FormControl {...props}><input {...input} {...restprops} /></FormControl>\r\n\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text='') => <div><Field \r\n            placeholder={placeholder}\r\n            name={name} \r\n            validate={validators} \r\n            component={component} \r\n            {...props} \r\n            text /></div>\r\n\r\n","export const required = value => {\r\n    if(value) return undefined;\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__2_iql\",\"dialogs_items\":\"dialogs_dialogs_items__T_gt3\",\"active\":\"dialogs_active__ZZ2PL\",\"messages_items\":\"dialogs_messages_items__1Iz9T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"dialogItem_dialog__3B46w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"message_message__3ueN0\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './dialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n\r\nlet path = \"/dialogs/\" + props.id;\r\n\r\n  return (\r\n    <div className={s.dialog}>\r\n      <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from './message.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n\r\n  return (\r\n    <div className={s.message}>{props.message}</div>\r\n  );\r\n};\r\n\r\nexport default Message;","import React from \"react\";\r\nimport s from \"./dialogs.module.css\";\r\nimport DialogItem from \"./dialog/dialogItem\";\r\nimport Message from \"./mesage/message\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { Textarea } from \"../common/formsControls/formsControls\";\r\nimport { required, maxLengthCreator } from \"../../utils/validators/validators\";\r\n\r\n\r\nconst Dialogs = props => {\r\n  // debugger;\r\n\r\n  let dialogsElement = props.state.dialogs.map(data => (\r\n    <DialogItem name={data.name} id={data.id} key={data.id} />\r\n  ));\r\n  let messagesElements = props.state.messages.map(datas => (\r\n    <Message message={datas.message} key={datas.id} />\r\n  ));\r\n\r\n  let newMessageBody = props.state.newMessageBody;\r\n\r\n\r\n  let addNewMessage = (values) => {\r\n    props.onSendMessageClick(values.newMessageBody);\r\n  };\r\n\r\n  if(!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogs_items}>{dialogsElement}</div>\r\n      <div>\r\n        <div className={s.messages_items}>{messagesElements}</div>\r\n        \r\n        <AddMessageFormRedux onSubmit={addNewMessage} />\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst maxLength50 = maxLengthCreator(50);\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n  <form onSubmit={props.handleSubmit}>\r\n    <div>\r\n      <Field \r\n        component={Textarea} \r\n        name='newMessageBody' \r\n        validate={[required, maxLength50, ]}\r\n        placeholder=\"send yor message\"\r\n      />\r\n    </div>\r\n    <div>\r\n      <button>add message</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nconst AddMessageFormRedux  = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\n\r\nexport default Dialogs;\r\n","import { sendMessageCreator } from \"../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { WithAuthRedirect } from \"../../hoc/authRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    state: state.dialogsPage,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onSendMessageClick: (newMessageBody) => {\r\n     dispatch(sendMessageCreator(newMessageBody));\r\n    }\r\n  }\r\n}\r\n\r\nlet AuthRedirectComponent = WithAuthRedirect(Dialogs);\r\n\r\nconst DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n\r\nexport default DialogsContainer;\r\n//========================================\r\n// there is a problem in the cod after this line (does not work)\r\n// export default compose(\r\n//   connect(mapStateToProps, mapDispatchToProps),\r\n//   WithAuthRedirect\r\n// )(Dialogs);\r\n\r\n\r\n"],"sourceRoot":""}